CREATE TABLE SRIDEV.USER_ACCOUNT(
   USERID VARCHAR(100),
   EMAIL_ID VARCHAR(200),
   PASSWORD VARCHAR(200),
   GENDER VARCHAR(200),
   DATE_OF_BIRTH DATE,
   AGE INT,
   FIRST_NAME VARCHAR(100),
   MIDDLE_NAME VARCHAR(100),
   LAST_NAME VARCHAR(100),
   REGISTRATION_ID VARCHAR(200),
   NATIONALITY VARCHAR(30),
   PLACE_OF_BIRTH VARCHAR(200),
   RELIGION VARCHAR(50),
   CAST VARCHAR(50),
   GOTRA VARCHAR(50),
   USER_TYPE VARCHAR(20),
   ACTIVE CHAR(1),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(USERID)
);

CREATE TABLE SRIDEV.PROFILE_PHOTOS(
   PHOTO_ID VARCHAR(100),
   PHOTO_PATH VARCHAR(400),
   PHOTO_TYPE VARCHAR(200),
   USERID VARCHAR(100),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(PHOTO_ID),
   CONSTRAINT FK_PROFILE_PHOTOS
      FOREIGN KEY(USERID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);

CREATE TABLE IF NOT EXISTS sridev.success_story
(
    story_id character varying(100) COLLATE pg_catalog."default" NOT NULL,
    bride_id character varying(100) COLLATE pg_catalog."default",
    groom_id character varying(100) COLLATE pg_catalog."default",
    marriage_date date,
    remarks character varying(500) COLLATE pg_catalog."default",
    lst_upd_usr character varying(100) COLLATE pg_catalog."default",
    lst_upd_dt date,
    crt_usr character varying(100) COLLATE pg_catalog."default",
    crt_dt date,
    CONSTRAINT success_story_pkey PRIMARY KEY (story_id),
    CONSTRAINT fk1_success_story FOREIGN KEY (bride_id)
        REFERENCES sridev.user_account (userid) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fk2_success_story FOREIGN KEY (groom_id)
        REFERENCES sridev.user_account (userid) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
);

CREATE TABLE SRIDEV.PROFILE_MATCH(
   MATCH_ID VARCHAR(100),
   INITIATOR_ID VARCHAR(100),
   RECEIVER_ID VARCHAR(100),
   DATE_OF_MATCH DATE,
   INTEREST_SENT_ON DATE,
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(MATCH_ID),
   CONSTRAINT FK1_PROFILE_MATCH
      FOREIGN KEY(INITIATOR_ID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID),
   CONSTRAINT FK2_PROFILE_MATCH
      FOREIGN KEY(RECEIVER_ID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);



CREATE TABLE SRIDEV.SUBSCRIPTION_MASTER(
   SUBSCRIPTION_ID INT,
   SUBSCRIPTION_NAME VARCHAR(200),
   VALIDITY INT,
   START_DATE DATE,
   END_DATE DATE,
   ACTIVE CHAR(1),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(SUBSCRIPTION_ID)
);

CREATE TABLE SRIDEV.FEEDBACK_TXN(
   FEEDBACK_ID VARCHAR(100),
   FEEDBACK_STAR INT,
   FEEDBACK_TEXT VARCHAR(1000),
   USERID VARCHAR(100),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(FEEDBACK_ID),
   CONSTRAINT FK_PROFILE_PHOTOS
      FOREIGN KEY(USERID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);

CREATE TABLE SRIDEV.USER_SUBCRIPTION(
   USERID VARCHAR(100),
   SUBSCRIPTION_ID INT,
   USER_DISCOUNT INT,
   SUBSCRIBED_ON DATE,
   EXPIRY_ON DATE,
   ACTIVE CHAR(1),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   CONSTRAINT FK1_USER_SUBCRIPTION
      FOREIGN KEY(USERID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID),
   CONSTRAINT FK2_USER_SUBCRIPTION
      FOREIGN KEY(SUBSCRIPTION_ID) 
	  REFERENCES SRIDEV.SUBSCRIPTION_MASTER(SUBSCRIPTION_ID)
);

CREATE TABLE SRIDEV.BLOCKED_PROFILE(
   BLOCK_LIST_SERIAL_N INT,
   USERID VARCHAR(100),
   BLOCKED_USER_ID VARCHAR(700),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(BLOCK_LIST_SERIAL_N)
);

CREATE TABLE SRIDEV.USER_PREFERENCES(
   PREFERENCE_ID VARCHAR(100),
   PREFERRED_GENDER VARCHAR(10),
   PREFERRED_AGE INT,
   PREFERRED_HEIGHT INT,
   PREFERRED_JOB VARCHAR(150),
   PREFERRED_NATIONALITY VARCHAR(50),
   PREFERRED_MOTHER_TONGUE VARCHAR(100),
   PREFERRED_RELIGION VARCHAR(50),
   PREFERRED_CASTE VARCHAR(50),
   PREFERRED_GOATHRA VARCHAR(50),
   PREFERENCE_IN_WORDS TEXT,
   USERID VARCHAR(100),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(PREFERENCE_ID),
   CONSTRAINT FK_USER_PREFERENCES
      FOREIGN KEY(USERID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);

CREATE TABLE SRIDEV.USER_FAMILY_DETAILS(
   FAMILY_ID VARCHAR(100),
   USERID VARCHAR(100),
   FAMILY_MEMBER_NAME VARCHAR(300),
   AGE INT,
   GENDER VARCHAR(10),
   RELATIONSHIP VARCHAR(50),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(FAMILY_ID),
   CONSTRAINT FK_USER_FAMILY_DETAILS
      FOREIGN KEY(USERID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);

CREATE TABLE SRIDEV.USER_CHAT_DETAILS(
   CHAT_ID VARCHAR(100),
   CHAT_SAVE_PATH VARCHAR(400),
   INITIATOR_ID VARCHAR(100),
   RECEIVER_ID VARCHAR(100),
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(CHAT_ID),
   CONSTRAINT FK1_USER_CHAT_DETAILS
      FOREIGN KEY(INITIATOR_ID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID),
   CONSTRAINT FK2_USER_CHAT_DETAILS
      FOREIGN KEY(RECEIVER_ID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);


CREATE TABLE SRIDEV.USER_ID_PROOF_DETAILS(
   USER_IDENTIFICATION_ID INT, 
   USERID VARCHAR(100),
   ID_PROOF_TYPE VARCHAR(100),
   ID_PROOF_NUMBER VARCHAR(200)   
   LST_UPD_USR VARCHAR(100),
   LST_UPD_DT DATE,
   CRT_USR VARCHAR(100),
   CRT_DT DATE,
   PRIMARY KEY(USER_IDENTIFICATION_ID),
   CONSTRAINT FK_PROFILE_PHOTOS
      FOREIGN KEY(USERID) 
	  REFERENCES SRIDEV.USER_ACCOUNT(USERID)
);